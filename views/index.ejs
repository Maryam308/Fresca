<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fresca - Fresh Recipes That Inspire</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body>
    <%- include('./partials/_navbar.ejs') %>
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <h1>
            Discover <span class="highlight">Fresh Recipes</span> That Inspire
          </h1>
          <p>
            Fresca brings you simple, delicious, and easy-to-follow recipes.
          </p>
          <p>Cook, share, and enjoy meals with friends and family!</p>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section class="about">
      <div class="container">
        <h2>
          Become a true <span class="highlight">chef</span><br />with our
          recipes
        </h2>
        <a href="/about" class="about-btn">About Fresca</a>

        <div class="feature-cards">
          <div class="feature-card">
            <img
              width="100"
              height="120"
              src="/images/blueberryCake.png"
              alt="Blueberry"
            />
          </div>
          <div class="feature-card">
            <h3>Cooking has never been this easy!</h3>
          </div>
          <div class="feature-card">
            <img
              width="100"
              height="120"
              src="/images/cookies.jpg"
              alt="Cookies"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Recent Recipes Section -->
    <section class="recipes">
      <div class="container">
        <div class="recipes-header">
          <h2>Recent Recipes</h2>
          <a href="/recipes" class="browse-all">Browse All Recipes</a>
        </div>

        <div class="recipes-grid">
          <% if (recentRecipes && recentRecipes.length > 0) { %>
            <% recentRecipes.forEach(recipe => { %>
              <div class="recipe-card">
                <div class="recipe-image" style="background-image: url('<%= recipe.recipeImage || "/images/default-recipe.jpg" %>');"></div>
                <div class="recipe-content">
                  <h3 class="recipe-title"><%= recipe.title %></h3>
                  <div class="recipe-meta">
                    <div>Added By <%= recipe.authorId ? recipe.authorId.username : 'Unknown' %></div>
                    <div>Added On <%= recipe.createdAt ? recipe.createdAt.toDateString() : 'Unknown' %></div>
                    <div>Category: <%= recipe.cuisineId ? recipe.cuisineId.cuisineName : 'Uncategorized' %></div>
                  </div>
                  <a href="/recipes/<%= recipe._id %>" class="view-recipe">View Recipe</a>
                </div>
              </div>
            <% }) %>
          <% } else { %>
            <div class="no-recipes-message">
              <p>No recipes available yet. <a href="/recipes/new">Add the first recipe!</a></p>
            </div>
          <% } %>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <a href="#top" class="back-to-top">â†‘</a>
        <p>&copy; All rights reserved Fresca 2025</p>
      </div>
    </footer>

    <script>
      // Smooth scroll for back to top
      document.querySelector('.back-to-top').addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    </script>
  </body>
</html>